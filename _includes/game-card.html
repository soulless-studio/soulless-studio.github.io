<style>
.game-circle-wrapper {
    perspective: 1000px !important;
    width: 320px !important;
    height: 320px !important;
    margin: auto !important;
    cursor: pointer !important;
}

.game-circle {
    width: 100% !important;
    height: 100% !important;
    position: relative !important;
    transform-style: preserve-3d !important;
    transition: transform 0.8s !important;
}

.game-circle.is-flipped {
    transform: rotateY(180deg) !important;
}

.game-circle.is-flipped .game-title {
    opacity: 0 !important;
    transition-delay: 0s !important;
}

.game-circle-front,
.game-circle-back {
    width: 100% !important;
    height: 100% !important;
    position: absolute !important;
    backface-visibility: hidden !important;
    border-radius: 50% !important;
    border: 2px solid #808080 !important;
    overflow: hidden !important;
}

.game-circle-front {
    display: flex !important;
    justify-content: center !important;
    align-items: flex-end !important;
    padding-bottom: 60px !important;
}

.game-circle-front::before {
    content: "" !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    background-size: cover !important;
    background-position: center !important;
    z-index: 0 !important;
}

.game-circle-front::after {
    content: '' !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: 100px !important;
    height: 100px !important;
    background-color: #2a2a2a !important;
    border-radius: 50% !important;
    z-index: 1 !important;
    border: 2px solid #808080 !important;
}

.game-circle-back {
    transform: rotateY(180deg) !important;
    background: conic-gradient(
        #00BFFF,
        #4169E1,
        #32CD32,
        #98FB98,
        #FFD700,
        #00CED1,
        #1E90FF,
        #90EE90,
        #00BFFF
    ) !important;
    opacity: 0.25 !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
}

.game-circle-back::after {
    content: '' !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: 100px !important;
    height: 100px !important;
    background-color: #2a2a2a !important;
    border-radius: 50% !important;
    z-index: 1 !important;
    border: 2px solid #808080 !important;
}

.game-title {
    position: relative !important;
    z-index: 2 !important;
    color: #ffffff !important;
    font-size: 1.2rem !important;
    font-weight: 500 !important;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7) !important;
    padding: 10px !important;
    background: rgba(0, 0, 0, 0.5) !important;
    border-radius: 4px !important;
    backdrop-filter: blur(2px) !important;
    opacity: 1 !important;
    transition: opacity 0.2s !important;
    transition-delay: 0.4s !important;
}

.learn-more-btn {
    position: relative !important;
    z-index: 2 !important;
    padding: 12px 24px !important;
    background: rgba(0, 0, 0, 0.8) !important;
    border: 2px solid #808080 !important;
    border-radius: 25px !important;
    color: #ffffff !important;
    font-size: 1rem !important;
    font-weight: 500 !important;
    text-decoration: none !important;
    transition: all 0.3s ease !important;
    backdrop-filter: blur(5px) !important;
    transform: translateY(200%) !important;
}

.learn-more-btn:hover {
    background: rgba(0, 0, 0, 0.9) !important;
    border-color: #ffffff !important;
    transform: translateY(calc(200% - 2px)) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4) !important;
    color: #ffffff !important;
}

.game-info {
    text-align: center !important;
}

.platform-list {
    justify-content: center !important;
    gap: 15px !important;
    flex-wrap: wrap !important;
}

.platform-icon, .bi-nintendo-switch {
    color: #808080 !important;
    font-size: 20px !important;
    transition: color 0.3s ease !important;
    cursor: pointer !important;
}

.platform-icon:hover, .bi-nintendo-switch:hover {
    color: #ffffff !important;
}

.platform-link {
    text-decoration: none !important;
}

.platform-link[href="#"] {
    cursor: not-allowed !important;
    opacity: 0.5 !important;
}

.bi-nintendo-switch {
    width: 20px !important;
    height: 20px !important;
}

.game-circle img {
    width: 100% !important;
    height: 100% !important;
    object-fit: cover !important;
}

.back-content {
    display: flex !important;
    flex-direction: column !important;
    justify-content: space-between !important;
    align-items: center !important;
    height: 100% !important;
    width: 100% !important;
    padding: 20px !important;
}

.game-info {
    transform: translateY(-150%) !important;
    text-align: center !important;
    color: #ffffff !important;
}

.game-info h3 {
    margin: 0 0 10px 0 !important;
    color: #ffffff !important;
    font-size: 1.2rem !important;
}

.platform-icons {
    display: flex !important;
    gap: 10px !important;
    justify-content: center !important;
}

.platform-icons a {
    color: #ffffff !important;
    text-decoration: none !important;
    font-size: 1.2rem !important;
    transition: color 0.3s ease !important;
}

.platform-icons a:hover {
    color: #808080 !important;
}

.game-image {
    background-size: cover !important;
    background-position: center !important;
    height: 100% !important;
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    color: #ffffff !important;
}
</style>

{% if game %}
<div class="game-circle-wrapper">
  <div class="game-circle">
    <div class="game-circle-front">
      {% if game.image %}
      <style>
        .game-circle-front::before {
          background-image: url('{{site.url}}{{site.baseurl}}{{game.image}}') !important;
        }
      </style>
      {% endif %}
      <h3 class="game-title">{{ game.name }}</h3>
    </div>
    <div class="game-circle-back">
              <a href="{{ game.link }}" class="learn-more-btn">Learn More</a>
            </div>
    </div>
  </div>
</div>
{% endif %}

<script>
document.addEventListener('DOMContentLoaded', function() {
    const circles = document.querySelectorAll('.game-circle-wrapper');
    
    circles.forEach(circle => {
        circle.addEventListener('click', function() {
            const gameCircle = this.querySelector('.game-circle');
            gameCircle.classList.toggle('is-flipped');
        });
    });
});
</script>
